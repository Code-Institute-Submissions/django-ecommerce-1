language: 
    - python

python: 
    - "3.7"

services:
    - docker

before_script:
    - pip install docker-compose

script:
    - docker-compose run web coverage run manage.py test --settings=settings.test 
    - docker-compose run web flake8

after_success:
    - docker-compose run web bash <(curl -s https://codecov.io/bash)